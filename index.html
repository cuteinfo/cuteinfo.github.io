<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>cuteinfo 的随想录</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="cuteinfo 的随想录">
<meta property="og:url" content="http://cuteinfo.github.io/index.html">
<meta property="og:site_name" content="cuteinfo 的随想录">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="cuteinfo 的随想录">
  
    <link rel="alternative" href="/atom.xml" title="cuteinfo 的随想录" type="application/atom+xml">
  
  
    <link rel="icon" href="/daxiaobai.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
  
<script type="text/javascript">

var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?d0ab8b7852615e703d44a365e9408c77";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

</script>

</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="/baymax.jpg" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">cuteinfo</a></h1>
		</hgroup>

		

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/cuteinfo" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
								<a class="mail" target="_blank" href="#" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">技术菜鸟;非典型纲丝;欣赏独立思考有想法的人。。。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">cuteinfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/baymax.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">cuteinfo</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/cuteinfo" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2015-04-30-the-linux-command-notes" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/30/2015-04-30-the-linux-command-notes/" class="article-date">
  	<time datetime="2015-04-29T16:00:00.000Z" itemprop="datePublished">2015-04-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/30/2015-04-30-the-linux-command-notes/">Linux常用命令笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#Linux命令笔记</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/awk/">awk</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/grep/">grep</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/操作系统/">操作系统</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/04/30/2015-04-30-the-linux-command-notes/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-2015-04-20-the-nosql-database-notes" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/20/2015-04-20-the-nosql-database-notes/" class="article-date">
  	<time datetime="2015-04-19T16:00:00.000Z" itemprop="datePublished">2015-04-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/20/2015-04-20-the-nosql-database-notes/">Mongodb Redis Hbase数据库相关知识</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>各nosql简介、特点介绍和上手、MongoDB master-slave搭建</p>
<p>##Redis</p>
<ul>
<li>Linux 下源码安装</li>
</ul>
<blockquote>
<p>wget <a href="http://download.redis.io/releases/redis-2.8.17.tar.gz" target="_blank" rel="noopener">http://download.redis.io/releases/redis-2.8.17.tar.gz</a><br>tar xzf redis-2.8.17.tar.gz<br>cd redis-2.8.17<br>make</p>
</blockquote>
<ul>
<li>ubuntu 下apt 安装</li>
</ul>
<blockquote>
<p>apt-get install redis-server<br>apt-get install redis-server redis-tools</p>
</blockquote>
<ul>
<li>windows下有微软官方支持的 windows版本：redis-win<br>windows 下的客户端软件<blockquote>
<p>redis_cli 就比较好用<br>RedisDesktopManager ,一款基于qt的跨平台图形界面，还比较好用，其它还有几款国产的，不是特别好用<br>Java 下使用jedis ,API基本和cli下命令一致，毫无壁垒</p>
</blockquote>
</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DataBase/">DataBase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hbase/">Hbase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/">Redis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/04/20/2015-04-20-the-nosql-database-notes/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-2015-04-01-the-mysql-database-notes" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/01/2015-04-01-the-mysql-database-notes/" class="article-date">
  	<time datetime="2015-03-31T16:00:00.000Z" itemprop="datePublished">2015-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/01/2015-04-01-the-mysql-database-notes/">MySQL数据库相关知识</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> mysql 5.6 &amp; maria10<br>mysql 5.5 &amp; maria </p>
<hr>
<p>数据库事务acid ，原子性Atomicity 一致性Consistency(完整性约束条件)<br>隔离性 (互相不可见，串行  Isolation）、持久性（Durability）事务完成后所有操作便持久的保存到数据库中<br>数据库优化<br>    选择合适的字段(短、简单)、尽量不用非空存储字段、主键和索引尽量使用数字<br>    联合索引 引导字段选择更重要<br>    索引选择 b-tree ,<br>        hash(一次定位，Hash 索引仅仅能满足”=”,”IN”和”&lt;=&gt;”查询，不能使用范围查询。<br>        读取内存中数据速度非常快<br>        不支持模糊查询<br>        不能排序<br>        Hash 索引遇到大量Hash值相等的情况后性能并不一定就会比B-Tree索引高 ，<br>        Hash 联合索引不能单独使用引导字段<br>        Hash 不能避免表扫描，因为可能会出现相同hash<br>    聚簇索引 ，不允许用户自己建立，只有主键 innodb 一个表中只有一个，字符串使用聚簇索引可能会引起大量移动操作<br>    如果查询是连接多个表，仅当ORDER BY中的所有列都是第一个表的列时才会使用索引。其它情况都会使用filesort</p>
<p>select <em> from table where =？ for update ;锁定行<br>set autocommit =0; 需要手动提交commit<br>select </em> from favorurl where favorurl_id &lt;10004 and favorurl_id &lt;&gt;10000 for update;【也会锁定10000这一行】<br>InnoDB锁住元组1是因为MySQL的查询计划仅使用索引进行范围查询（而没有进行过滤操作，WHERE中第二个条件已经无法使用索引了）：</p>
<p>CREATE TABLE emp (<br>ID INT  PRIMARY KEY AUTO_INCREMENT<br>) AUTO_INCREMENT = 100 ;</p>
<p>SHOW GLOBAL VARIABLES LIKE ‘auto_incre%’; – 全局变量</p>
<p>如果有一张表，里面有个字段为id的自增主键，当已经向表里面插入了10条数据之后，删除了id为8，9，10的数据，再把mysql重启，之后再插入一条数据，那么这条数据的id值应该是多少，是8，还是11？<br>答：如果表的类型为MyISAM，那么是11。如果表的类型为InnoDB，则id为8</p>
<p>last_insert_id() 它必需紧跟在insert 语句执行之后。<br>1、 SELECT MAX(id) FROM person 针对特定表<br>2、 SELECT LAST_INSERT_ID() 函数 针对任何表，会话级的<br>3、 SELECT @@identity 针对任何表<br>@@identity 是表示的是最近一次向具有identity属性(即自增列)的表插入数据时对应的自增列的值，是系统定义的全局变量。<br>一般系统定义的全局变量都是以@@开头，用户自定义变量以@开头。</p>
<h2 id="错误语法-select-last-insert-id-favorurl-id-from-favorurl-limit-1-没任何意义，只是获取，from-也不起作用"><a href="#错误语法-select-last-insert-id-favorurl-id-from-favorurl-limit-1-没任何意义，只是获取，from-也不起作用" class="headerlink" title="错误语法 select last_insert_id(favorurl_id) from favorurl limit 1;  没任何意义，只是获取，from 也不起作用"></a>错误语法 select last_insert_id(favorurl_id) from favorurl limit 1;  没任何意义，只是获取，from 也不起作用</h2><p>SHOW TABLE STATUS LIKE ‘person’</p>
<p>ALTER TABLE emp RENAME emp2</p>
<p>ALTER TABLE emp2 MODIFY id BIGINT</p>
<p>–删除外键约束<br>ALTER TABLE emp2 DROP FOREIGN KEY fk_emp_dept<br>–删除主键约束<br>ALTER TABLE emp2 DROP PRIMARY KEY pk_emp_dept</p>
<p>DROP TABLE IF EXISTS emp1 ,emp2</p>
<p>explain Using filesort  ，对无索引的字段进行了排序</p>
<h2 id="mysql-分区-range-hash"><a href="#mysql-分区-range-hash" class="headerlink" title="mysql 分区   range /hash/"></a>mysql 分区   range /hash/</h2><p>命令行中执行动态语句<br>PREPARE  sql1 from ‘select count(?) from  article  ‘;<br>set @t1 =’article’;<br>EXECUTE sql1 USING @t1;</p>
<p>mysql&gt; PREPARE stmt1 FROM ‘SELECT SQRT(POW(?,2) + POW(?,2)) AS hypotenuse’;<br>mysql&gt; SET @a = 3;<br>mysql&gt; SET @b = 4;<br>mysql&gt; EXECUTE stmt1 USING @a, @b;</p>
<p>redis 也提供发布订阅功能、事务、持久存储、主从复制</p>
<p>存储过程<br>TODO 存储过程  变量和cusor<br>TODO sql优化和索引设计   以及应用优化<br>使用连接池、减少对mysql的访问，如合并语句和请求，使用查询缓存，cache层、负载均衡<br>索引设计的原则  ：不过度索引 、联合索引左列选合适 ，利用左前缀 index on name(100)、索引的基数越大越好、最好的索引是出现在where子句中或者连接子句中的列，而不一定是出现select后需要查找的列<br>show processlist /show status like ‘slow<em>queries’; </em><br>TODO 索引分析和追踪  explain  show<br>explain type: all 全表扫描  index  索引全扫描 range 索引范围 ref 使用费唯一索引扫描或唯一索引前缀<br> eq ref 唯一索引进行扫描 const,system  但表最多有一个匹配行  null  直接出结果</p>
<hr>
<p>一般工业界认为比较安全的备份数应该是3份<br>弱一致性、强一致性、最终一致性<br>分布式系统 两阶段提交，第一阶段做Vote，第二阶段做决定的一个算法，也可以看到2PC这个事是强一致性的算法。<br>三段提交的核心理念是：在询问的时候并不锁定资源，除非所有人都同意了，才开始锁资源</p>
<hr>
<p>//转成sql 脚本执行，速度更快<br>            FileWriter fw = new FileWriter(“D:/sql.sql”);<br>            while(cursor.hasNext()){<br>                DBObject obj = cursor.next();<br>                fw.write(“ update article_chuangsong set article_content=’prodb:articlehtml:” +obj.get(“_id”).toString()+”‘“+<br>                        “ ,article_addtion=null where article_id=”+obj.get(“articleid”)+” ;\n”);<br>                fw.flush();<br>            }</p>
<pre><code>fw.close();
</code></pre><p>========================<br>mysql<br>Tablespace for table ‘<code>pomelo</code>.<code>bag</code>‘ exists. Please DISCARD the tablespace before IMPORT.<br>FLUSH TABLES; 进行清除</p>
<p>#TODO# mysql loaddata from  file  设置行分割符 设置列分割符</p>
<p>ObjectId</p>
<p>db.article_chuangsong_copy.find().forEach(function(docu){<br>        docu.content = docu.content+docu.addtion;<br>        db.article_chuangsong_copy.save(docu);</p>
<pre><code>});
</code></pre><p> 重命名字段名 db.test.update({}, {$rename : {“abc” : “def”}}, false, true)  </p>
<p>   $rename :{“downurl”:”downdiv_his”}</p>
<p>db.article_chuangsong_copy.update(<br>    // query<br>    {<br>        “key” : “value”<br>    },</p>
<pre><code>// update 
{
},

// options 
{
    &quot;multi&quot; : false,  // update only one document 
    &quot;upsert&quot; : false  // insert a new document, if no existing document match the query 
}
</code></pre><p>);</p>
<p>db.article_chuangsong_copy.update(<br>    // query<br>    {</p>
<pre><code>},

// update 
{
    $set:{&quot;type&quot;:&quot;chuansong&quot;,&quot;type1&quot;:&quot;传送门&quot;},
    $unset:{&quot;article_type&quot;:1} //去除字段
},

// options 
{
    &quot;multi&quot; : true,  // update only one document 
    &quot;upsert&quot; : false  // insert a new document, if no existing document match the query 
}
</code></pre><h2 id=""><a href="#" class="headerlink" title=");"></a>);</h2><p>BEGIN</p>
<pre><code>DECLARE sql1 VARCHAR(1000);
</code></pre><p>  DECLARE t1 VARCHAR(100);</p>
<pre><code>PREPARE  sql1 from &apos;select ? from  article  &apos;;
</code></pre><p>  EXECUTE sql1 USING @tbname;</p>
<h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>set @qunNo = 79324032;<br>CALL p_qun(@qunNo);</p>
<p>DROP PROCEDURE IF EXISTS <code>p1</code>;</p>
<p>CREATE DEFINER = <code>root</code>@<code>localhost</code> PROCEDURE <code>p1</code>(INOUT  <code>tbname</code> varchar(100))<br>BEGIN<br> DECLARE tbname1 VARCHAR(1000);</p>
<h1 id="SELECT-LENGTH-tbname"><a href="#SELECT-LENGTH-tbname" class="headerlink" title="SELECT LENGTH(tbname);"></a>SELECT LENGTH(tbname);</h1><p> set tbname1=CONCAT(tbname,’111’);<br> set tbname=tbname1;<br>END;</p>
<hr>
<p>BEGIN</p>
<pre><code>DECLARE sql1 VARCHAR(1000);
</code></pre><p>  DECLARE t1 VARCHAR(100);</p>
<pre><code>PREPARE  sql1 from &apos;select count(?) from  article  &apos;;
</code></pre><p>  EXECUTE sql1 USING @tbname; – 这个地方又必须用@了</p>
<h2 id="END-1"><a href="#END-1" class="headerlink" title="END"></a>END</h2><p>mysql中每个表都有一个聚簇索引（clustered index ），除此之外的表上的每个非聚簇索引都是二级索引，又叫辅助索引（secondary indexes）。</p>
<p>以InnoDB来说，每个InnoDB表具有一个特殊的索引称为聚集索引。如果您的表上定义有主键，该主键索引是聚集索引。如果你不定义为您的表的主键时，MySQL取第一个唯一索引（unique）而且只含非空列（NOT NULL）作为主键，InnoDB使用它作为聚集索引。如果没有这样的列，InnoDB就自己产生一个这样的ID值，它有六个字节，而且是隐藏的，使其作为聚簇索引。</p>
<p>MySQL5.6和mariadb 10.0的 data文件夹不能共用，两者还是有区别的</p>
<p>磁盘阵列 radio 0 ,10 ,5 备份和提高io，提高io 还可以通过data 和index存放在不同磁盘中  ，SSD化(TODO 研究国外的云服务器)<br>create table  type=myisam  data directory=‘’      index directory =‘’  旧表可以使用符号连接<br>group by with rollup </p>
<p>索引分析和追踪  explain  show    trace<br>explain type: all 全表扫描  index  索引全扫描 range 索引范围 ref 使用费唯一索引扫描或唯一索引前缀<br> eq ref 唯一索引进行扫描 const,system  但表最多有一个匹配行  null  直接出结果</p>
<p> 定期检查和分析表 analyze /check table qunlist98<br> 定期优化表 optimize table qunlist98; 删除过大量数据或者字段缩小过 ,会对表进行锁定<br> order by 和group by 优化 filesort排序，所有不通过索引直接返回排序结果的排序.如果不能使用索引，则可以加上order by null避免排序结果的消耗<br> 优化 or  /exists<br>select * from qunlist use index()  ,force index<br>alter table change oldcol  coldefinition   newcolname<br>alter table modify col varchar();<br>drop colname<br>drop index </p>
<hr>
<p>show profile 分析sql<br>select @@have<em>profiling; </em>是否支持 @@是全局变量，或者不加两个@@  show variables<br>select @@profiling 是否开启<br>show profiles;<br>show profile for query 1; 查看执行过程中各阶段的消耗</p>
<h2 id="show-profile-all-block-io-context-switch-page-fault-for-query-1"><a href="#show-profile-all-block-io-context-switch-page-fault-for-query-1" class="headerlink" title="show profile [all|block io |context|switch|page fault] for query 1;"></a>show profile [all|block io |context|switch|page fault] for query 1;</h2><p>trace分析表优化器如何执行计划<br>MySQL 不禁止在分区键值上使用null,分区键可能是一个字段或者一个用户定义的表达式。一般情况下MySQL把null当作零值或者最小值进行处理<br>命令行下 \G 可以让结果更易读<br>磁盘的冗余备份外还要多数据库的冗余备份，<br>myisam是表级锁，innodb是行级锁<br>ACID<br>CRUD<br>设计表的时候不一定按照几范式来，适当的冗余可能对于具体场景的提升应用效率又帮助<br>MySQL三中复制方式 statement row mix<br>TODO  information   mysql 数据库的用处，存放着哪些内容，用户权限和？<br>CAP 定理指出，一个数据库不可能同时满足一致性（Consistency）、可用性（Availability）和分区容错性（Partition-Tolerance）。</p>
<p>CA  RDMS<br>AP   Nosql   要保证 最终一致性<br>CP  </p>
<p>===============================================<br>mysql 常用函数</p>
<hr>
<p>字符串</p>
<p>CONV(N,from_base,to_base)   进制转换<br>CHAR(N,..) ASCII   码转为字符串<br>CONCAT(str1,…) 连接字符串<br>LENGTH 返回字符串的长度<br>LOCATE(substr,str)  POSITION(substr IN str)  ,INSTR则和它的参数位置相反<br>返回子串substr在字符串str第一个出现的位置，如果substr不是在str里面，返回0.<br>LPAD(str,len,padstr) 返回字符串str，左面用字符串padstr填补直到str是len个字符长。<br>RPAD<br>SUBSTRING(str,pos,len)<br>LTRIM(str)  返回删除了其前置空格字符的字符串str<br>RTRIM<br>TRIM<br>REPLACE(str,from_str,to_str)  返回字符串str，其字符串from_str的所有出现由字符串to_str代替。<br>REPEAT(str,count)<br> REVERSE(str) 返回颠倒字符顺序的字符串str。<br> INSERT(str,pos,len,newstr)  返回字符串str，在位置pos起始的子串且len个字符长得子串由字符串newstr代替。<br> LOWER</p>
<h2 id="UPPER"><a href="#UPPER" class="headerlink" title=" UPPER"></a> UPPER</h2><p>日期<br>now()  sysdate()<br>DAYOFWEEK(NOW())  周日是第一天算  1-7,可能也和设置有关<br>WEEKDAY(date) 返回date的星期索引(0=星期一，1=星期二, ……6= 星期天)<br>YEAR(date) 返回date的年份，范围在1000到9999。<br>DATE_ADD(date,INTERVAL expr type)<br>SECOND  秒 SECONDS<br>MINUTE  分钟 MINUTES<br>HOUR  时间 HOURS<br>DAY  天 DAYS<br>MONTH  月 MONTHS<br>YEAR  年 YEARS<br>MINUTE</p>
<p>todo date_formate </p>
<p>DATE_FORMAT(date,format) </p>
<p>SELECT DATE_FORMAT(NOW(),’%Y-%m-%d %H:%i:%s’) Ymd His</p>
<p>根据format字符串格式化date值。下列修饰符可以被用在format字符串中： %M  月名字(January……December)<br>%W  星期名字(Sunday……Saturday)<br>%D  有英语前缀的月份的日期(1st, 2nd, 3rd, 等等。）<br>%Y  年, 数字, 4 位<br>%y  年, 数字, 2 位<br>%a  缩写的星期名字(Sun……Sat)<br>%d  月份中的天数, 数字(00……31)<br>%e  月份中的天数, 数字(0……31)<br>%m  月, 数字(01……12)<br>%c  月, 数字(1……12)<br>%b  缩写的月份名字(Jan……Dec)<br>%j  一年中的天数(001……366)<br>%H  小时(00……23)<br>%k  小时(0……23)<br>%h  小时(01……12)<br>%I  小时(01……12)<br>%l  小时(1……12)<br>%i  分钟, 数字(00……59)<br>%r  时间,12 小时(hh:mm:ss [AP]M)<br>%T  时间,24 小时(hh:mm:ss)<br>%S  秒(00……59)<br>%s  秒(00……59)<br>%p  AM或PM<br>%w  一个星期中的天数(0=Sunday ……6=Saturday ）<br>%U  星期(0……52), 这里星期天是星期的第一天<br>%u  星期(0……52), 这里星期一是星期的第一天 </p>
<h2 id="一个文字“-”。"><a href="#一个文字“-”。" class="headerlink" title="%%  一个文字“%”。  "></a>%%  一个文字“%”。  </h2><p>IFNULL(expr1,expr2)<br>IF (expr1,expr2,expr3)<br>case expr1 when v1 then r1 when v2 then r2 end </p>
<p>ABS 而是不是使用  - 避免大负数<br>SIGN(X)  符号<br>MOD(N,M) ==%  取模<br> / 取余  则并不是返回整数而是返回小数</p>
<p> FLOOR 取整  返回值会变成  BIGINT 值<br> ROUND 四舍五入的整数  BIGINT 值</p>
<p> ROUND(X,D) 小数位的精度，D可以是负数<br> EXP(X)  返回值e（自然对数的底）的X次方<br> LOG(X) 返回X的自然对数<br> LOG10<br> POW(M,N) M的N次幂  但 POW(EXP(1),2) ,EXP(2) 并不相等，可能是精度丢失的问题<br> SQRT(X) 平方根<br> PI /SIN /TAN/ACOS/ASIN</p>
<p> RAND()*(M-N)+N   返回 N-&gt;M之间的随机值<br> LEAST(value1,value2,…) 获取其中的最小值<br> GREATEST 最大值</p>
<p> TRUNCATE(X,D)  返回数字X，截断为D位小数。如果D为0，结果将没有小数点或小数部分。 类似于floor的效果</p>
<p>===============================================</p>
<p>授权管理==</p>
<p>show status;<br>show processlist<br>explain 获取执行计划 /show profile </p>
<p> table 查询的数据表<br> type (可能的值 const, eq_reg, ref, range, index,all)<br>    主键或者唯一索引一般是const，性能最好<br>    eq_reg 是一种范围查找，唯一索引，主键可能是此种查找<br>    ref常见于连接查询，一个表基于另外一个索引的查找<br>    range 基于索引的范围查找<br>    index通常是对index的扫描<br>    All 是表扫描<br> possible_keys 查询中可以使用的索引<br> key 查询中实际使用到的索引，为null表示没有使用索引<br> key_len 索引长度，越小越好<br> ref 显示索引的那一列被使用了，最好是一个常数<br> rows 扫描的行数<br> extra<br>出现using filesort 查询需要优化(group by)，出现using temporary需要优化(order by 时容易出现)</p>
<pre><code>* 掌握一些sql的优化方法
</code></pre><p>性能优化  preaprestatement / limit  /表的横向和纵向拆分  /索引建立的合理点/ 在Join表的时候使用相当类型的列，并将其索引<br>避免使用order by Random(); /  select * ==&gt; select username/join 的表字段类型最好相同且建立索引/字段值不要使用null ,default</p>
<p>MyISAM 表级别的锁  /Innodb 是 行级别</p>
<p>===============================================</p>
<h1 id="navicat-数据传输的问题，百分比是对于当前复制的表的，不是对整个过程的，导致容易误判完成时间，要看清楚"><a href="#navicat-数据传输的问题，百分比是对于当前复制的表的，不是对整个过程的，导致容易误判完成时间，要看清楚" class="headerlink" title="navicat 数据传输的问题，百分比是对于当前复制的表的，不是对整个过程的，导致容易误判完成时间，要看清楚"></a>navicat 数据传输的问题，百分比是对于当前复制的表的，不是对整个过程的，导致容易误判完成时间，要看清楚</h1><p>navicat premium 实现了对于sqlite3的加密，继续寻找其它通用的跨平台加密解决方法，<br>比如对整个文件进行加密,但这样要保证文件比较小</p>
<p>日常仅仅查询使用的时候，使用mysql 的myism 引擎</p>
<p>1，原则1  任何时候都要以官方文档为主<br>2，配置之类的文件，复制可能会导致忘记修改某些参数，大脑紧张些</p>
<p>较新版本的Postgres支持JSON type ，可以当作nosql 使用，不知道是否支持文件存储（mongodb 的功能）</p>
<p>– 右表显示的是全部， 以右边为主 左表含空  替代Exists<br>（可以）SELECT <em> FROM picphotos a RIGHT JOIN article_author b ON a.photo_info = b.article_author_page WHERE a.photo_info IS NULL<br>（不可以）select </em> from picphotos a LEFT JOIN article_author  b  on a.photo_info=b.article_author_page  where  a.photo_info is null </p>
<p>mysql 通过 运行大的sql文件进行插入很慢，而通过从mysql 从之mysql 则快很多，设置set autocommit=0 则高速！！！<br>autocoomit是事务，根据mysql的文档如果等于1是立即提交。但在transction中只有遇到commit或rollback才提交。希望对你有用</p>
<p>====================================================</p>
<p>##MySQL和PostgreSQL 相关知识点记录</p>
<p> MySQL Test Suite是MySQL AB公司面向大众推出的一套功能强大的测试工具。这套测试软件包括一个名为mysqltest的可执行文件（Windows版本是mysql-test.exe文件）和一系列用来测试系统和对比测试结果的Perl模块和脚本。表4-1列出了相关目录及其内容。这套测试软件有适用于Unix/Linux平台的二进制和源代码发行版本，部分适用于Windows平台的发行版本也包括它。</p>
<p>mysql noinstall<br> 启动 mysql –console (配置文件默认顺序 c:/my.ini ,,, ../my.ini) ，关闭<br> 关闭 mysqladmin -uroot shutdown</p>
<p> mysql绿色版安装到windows service<br>    mysqld –install maria </p>
<p>查询表达字段和注释<br>show FULL columns from filesdata;<br>select COLUMN_NAME,COLUMN_COMMENT from information_schema.columns where table_name=’filesdata’;    </p>
<p>命令行 collection也无法删除,通过这种方式则可以删除  db[‘gmdm-20150125-1438-59823.files’].drop();（ps:更加说明 mongodb 和js）</p>
<p>max_allowed_packet=64M<br>这里是mysql官方给的说明：<a href="http://dev.mysql.com/doc/refman/5.5/en/replication-features-max-allowed-packet.html" target="_blank" rel="noopener">http://dev.mysql.com/doc/refman/5.5/en/replication-features-max-allowed-packet.html</a></p>
<p>innodb 并不是一个好的选择，count时候扫描全表和在频繁增删的时候，行数不正确，<a href="http://www.douban.com/note/245895324/" target="_blank" rel="noopener">http://www.douban.com/note/245895324/</a><br>mariadb 有没有好的数据库引擎</p>
<p>The program ‘mysqld’ can be found in the following packages:</p>
<ul>
<li>mysql-server-core-5.5</li>
<li>mariadb-server-core-5.5</li>
<li>mysql-server-core-5.6</li>
<li>percona-xtradb-cluster-server-5.5</li>
</ul>
<p> MariaDB<br> apt-get update<br> apt-get install mariadb*</p>
<p>OPTIMIZE table ac01;</p>
<p>innodb count 提高效率 (ac01)：</p>
<p> XtraDB (替代 InnoDB ,但SHOW ENGINES的时候还是显示InnoDB ercona-XtraDB  ，commnet 中显示Percona XtraDB )<br> Aria(替代 MyISM，支持事务但默认不开启)</p>
<p> Percona XtraDB Cluster<br> Percona XtraDB Cluster 就是 MySQL 打上了一些特殊的 patch， 讓 MySQL 可以將某一節點上的寫入動作，重製到其他節點上。</p>
<p>In MariaDB 10.0.6 or 10.0.7 we expect to have new Percona XtraDB enabled by default instead of InnoDB.</p>
<p>Cassandra in MariaDB 10.0   We are working on adding other NoSQL storage engines into MariaDB.<br>n MariaDB 10.0.3 we have InnoDB (not XtraDB). Because Percona XtraDB-5.6 wasn’t quite ready by the time of 10.0.3 release.</p>
<p>=====mysql 主从复制  ，xtradb==============================================================</p>
<p>多主复制  主从复制   多主一从</p>
<p>多主复制解决 自增主键重复的问题(修改my.ini(或my.cnf) 配置)<br>auto_increment_increment=2 步进值为2<br>auto_increment_offset=1/2  起始分别为1，2</p>
<p>MariaDB Galera Cluster 是一套在mysql innodb存储引擎上面实现multi-master及数据实时同步的系统架构，业务层面无需做读写分离工作，数据库读写压力都能按照既定的规则分发到各个节点上去。在数据方面完全兼容 MariaDB 和 MySQL</p>
<p>MySQL Cluster（有win版本，maria cluster 则没有）  /MySQL Fabric /MySQL Proxy<br>集群：自动分片 多主复制  分布式跨分片JOIN<br>MySQL Proxy(中间层代理)是一个处于你的client端和MySQL server端之间的简单程序，它可以监测、分析或改变它们的通信。它使用灵活，没有限制，常见的用途包括：负载平衡，故障、查询分析，查询过滤和修改等等</p>
<p>MySQL Proxy就是这么一个中间层代理，简单的说，MySQL Proxy就是一个连接池，负责将前台应用的连接请求转发给后台的数据库，并且通过使用lua脚本，可以实现复杂的连接控制和过滤，从而实现读写分离和负载平衡。对于应用来说，MySQL Proxy是完全透明的，应用则只需要连接到MySQL Proxy的监听端口即可。当然，这样proxy机器可能成为单点失效，但完全可以使用多个proxy机器做为冗余，在应用服务器的连接池配置中配置到多个proxy的连接参数即可。<br>MySQL Proxy更强大的一项功能是实现“读写分离”，基本原理是让主数据库处理事务性查询，让从库处理SELECT查询。数据库复制被用来把事务性查询导致的变更同步到集群中的从库。 　</p>
<p>#master<br>server-id    = 1<br>log_bin = mysql_bin_log #命名规则 默认路径为 data 下<br>binlog_format=mixed # OW or MIXED<br>relay_log = F:\mysql_bin_log\bin\relay_log.log</p>
<p>binlog-do-db  =  test<br>expire_logs_days   =   2   # 自动清理 2 天前的log文件，可根据需要修改  </p>
<p>#slave</p>
<p>server-id    = 2</p>
<p>relay-log-purge=1 </p>
<p>#log-slave-updates<br>skip-slave-start<br>slave-skip-errors =true# 跳过错误，从机一般应该配置该项<br>replicate-do-db=test<br>replicate-ignore-db=mysql </p>
<p>#新版已经不使用，改用  CHANGE MASTER TO MASTER_HOST=’10.11.2.126’, MASTER_USER=’rep’,   MASTER_PASSWORD=’rep’;</p>
<p>#之后分别重启主、从 ，然后 在从机上start slave; </p>
<p>#master-host = 127.0.0.1</p>
<p>#master-port=3306</p>
<p>#master-user=repl </p>
<p>#master-password=repl</p>
<p>#master-connect-retry=10<br>read-only=1</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DataBase/">DataBase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PostgreSQL/">PostgreSQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pgsql/">pgsql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/04/01/2015-04-01-the-mysql-database-notes/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-english-cute-words" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/30/english-cute-words/" class="article-date">
  	<time datetime="2015-03-29T16:00:00.000Z" itemprop="datePublished">2015-03-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/30/english-cute-words/">优美英文短句摘抄</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <div><br>      <div style="clear:both"></div><br>      <div><br>       <p style="margin:8px 0px 0px 0px;padding:0px;">All of life is an act of letting go, but what hurts the most is not taking a moment to say goodbye. 人生也许就是不断地放下，然而令人痛心的是，我都没能好好地与他们道别。</p><br>      </div><br>      <div><br>       <p style="margin:8px 0px 0px 0px;padding:0px;">A true friend is the one who is proud of you when you succeed and doesn’t leave you when you fail.真正的朋友，在你成功时，会引以为豪；在你失败时，会不离不弃。</p><br>      </div><br>      <div style="margin:8px 0px 0px;padding:10px 8px;position:relative;border:1px solid #dcdae9;font-size:12px;line-height:19px;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;border-color:#dcdae9;color:rgb(42, 42, 42);background-color:rgb(248, 248, 248);"><br>       <div style="margin:8px 0px 0px;padding:0px;overflow:hidden; text-align:center;"><br>        <img src="/images/img1.jpg" type="image/jpeg"><br>       </div><br>      </div><br>     </div><br>     <div><br>      <p style="margin:8px 0px 0px 0px;padding:0px;">Don’t be jealous of others.Because you never know how much you will get in the next second. 不用羨慕別人，因为你不知道你下一秒会获得多少。</p><br>     </div><br>     <div style="margin:8px 0px 0px;padding:10px 8px;position:relative;border:1px solid #dcdae9;font-size:12px;line-height:19px;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;border-color:#dcdae9;color:rgb(42, 42, 42);background-color:rgb(248, 248, 248);"><br>      <div style="margin:8px 0px 0px;padding:0px;overflow:hidden; text-align:center;"><br>       <img src="/images/img2.jpg" type="image/jpeg"><br>      </div><br>     </div><br>     <div><br>      <p style="margin:8px 0px 0px 0px;padding:0px;">Don’t pray for life to be easy, but pray for yourself to be strong. 不要祈祷生活能简单，该祈求的是自己能更坚强。</p><br>     </div><br>     <div style="margin:8px 0px 0px;padding:10px 8px;position:relative;border:1px solid #dcdae9;font-size:12px;line-height:19px;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;border-color:#dcdae9;color:rgb(42, 42, 42);background-color:rgb(248, 248, 248);"><br>      <div style="margin:8px 0px 0px;padding:0px;overflow:hidden; text-align:center;"><br>       <img src="/images/img3.jpg" type="image/jpeg"><br>      </div><br>     </div><br>     <div><br>      <p style="margin:8px 0px 0px 0px;padding:0px;">Doubt kills more dreams than failure ever will. 怀疑能杀死更多的梦想，这远比失败来得可怕。</p><br>     </div><br>     <a id="more"></a><br>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/短句/">短句</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/英文/">英文</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/03/30/english-cute-words/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-2015-03-30-the-java-thinking-notes" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/30/2015-03-30-the-java-thinking-notes/" class="article-date">
  	<time datetime="2015-03-29T16:00:00.000Z" itemprop="datePublished">2015-03-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/30/2015-03-30-the-java-thinking-notes/">java技术笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="Java相关琐碎知识记录"><a href="#Java相关琐碎知识记录" class="headerlink" title="##Java相关琐碎知识记录"></a>##Java相关琐碎知识记录</h1><p>=======================================<br> jetty+spring 无法访问 web.xml中的welcome-list<br> <mvc:default-servlet-handler>     <a href="http://blog.csdn.net/hynet/article/details/8646644" target="_blank" rel="noopener">http://blog.csdn.net/hynet/article/details/8646644</a></mvc:default-servlet-handler></p>
<p>======================================</p>
<p>javac -Djava.ext.dirs=jedis -encoding utf8  RedisSuber.java<br>java/javac 使用外部jar包（java -jar 是一样的情况）<br>这样说不可以的java -classpath “.;../lib/<em>.jar”  plp.brilliant.test.SpringTest<br>必须带上每个jar的名字 java -classpath “.;../lib/ant.jar ../lib/hibernate.jar”  plp.brilliant.<br>【简单方法】<br>1，java -Djava.ext.dirs=../lib plp.brilliant.test.SpringTest<br>          编译：javac -Djava.ext.dirs=./lib Test.java<br>运行：java -Djava.ext.dirs=./lib Test<br>./lib是指存放第三方jar文件的目录。也可以写成绝对路径:/<em>*/lib （试过了可以！） </em></em><br>Test.java指包含main函数的类。<br>2，把所有的jar包解压开和自己打包的jar内容合并后在压缩起来即可。</p>
<p>==========================================================<br>RAID Level 5是一种储存性能、数据安全和存储成本兼顾的存储解决方案。它使用的是Disk Striping（硬盘分区）技术。RAID 5至少需要三颗硬盘，RAID 5不是对存储的数据进行备份，而是把数据和相对应的奇偶校验信息存储到组成RAID5的各个磁盘上，并且奇偶校验信息和相对应的数据分别存储于不同的磁盘上。当RAID5的一个磁盘数据发生损坏后，可以利用剩下的数据和相应的奇偶校验信息去恢复被损坏的数据。RAID 5可以理解为是RAID 0和RAID 1的折衷方案。RAID 5可以为系统提供数据安全保障，但保障程度要比镜像低而磁盘空间利用率要比镜像高。RAID 5具有和RAID 0相近似的数据读取速度，只是因为多了一个奇偶校验信息，写入数据的速度相对单独写入一块硬盘的速度略慢，若使用“回写高速缓存”可以让性能改善不少。同时由于多个数据对应一个奇偶校验信息，RAID 5的磁盘空间利用率要比RAID 1高，存储成本相对较便宜。</p>
<p>RAID技术可以通过硬件实现，比如专用的RAID卡或者主板直接支持，也可以通过软件实现。RAID技术在传统关系数据库及文件系统中应用比较广泛，但是在大型网站比较喜欢使用的NoSQL，以及分布式文件系统中，RAID技术却遭到冷落。</p>
<p>例如在HDFS（Hadoop 分布式文件系统）中，系统在整个存储集群的多台服务器上进行数据并发读写和备份，可以看作在服务器集群规模上实现了类似RAID的功能，因此不需要磁盘RAID。</p>
<p>HDFS以块（Block）为单位管理文件内容，一个文件被分割成若干个Block，当应用程序写文件时，每写完一个Block，HDFS就将其自动复制到另外两台机器上，保证每个Block有三个副本，即使有两台服务器宕机，数据依然可以访问，相当于实现了RAID1的数据复制功能。</p>
<p>当对文件进行处理计算时，通过MapReduce并发计算任务框架，可以启动多个计算子任务（MapReduce Task），同时读取文件的多个Block，并发处理，相当于实现了RAID0的并发访问功能。</p>
<p>rmi  remote UnicastRemoteObject<br>TestRmi t = new TestRmiImp();<br>        LocateRegistry.createRegistry(1199);<br>//        Context namingContext = new InitialContext();<br>        Naming.rebind(“rmi://localhost:1199/test”, t);<br>//        namingContext.bind(“rmi://127.0.0.1:1099/test”, t);//lookup<br>        System.out.println(“&gt;&gt;&gt;&gt;&gt;INFO:远程IHello对象绑定成功！”); </p>
<p>======================================================<br>在jsp和class文件中调用的相对路径不同。 在jsp里，根目录是WebRoot<br>在class文件中，根目录是WebRoot/WEB-INF/classes 当然你也可以用System.getProperty(“user.dir”)获取你工程的绝对路径。<br>1.jsp中取得路径：<br>以工程名为TEST为例：<br>(1)得到包含工程名的当前页面全路径：request.getRequestURI()<br>结果：/TEST/test.jsp<br>(2)得到工程名：request.getContextPath()<br>结果：/TEST<br>(3)得到当前页面所在目录下全名称：request.getServletPath()<br>结果：如果页面在jsp目录下 /TEST/jsp/test.jsp<br>(4)得到页面所在服务器的全路径：application.getRealPath(“页面.jsp”)<br>结果：D:\resin\webapps\TEST\test.jsp<br>(5)得到页面所在服务器的绝对路径：absPath=new java.io.File(application.getRealPath(request.getRequestURI())).getParent();<br>结果：D:\resin\webapps\TEST<br>2.在类中取得路径：<br>(1)类的绝对路径：Class.class.getClass().getResource(“/“).getPath()<br>结果：/D:/TEST/WebRoot/WEB-INF/classes/pack/<br>(2)得到工程的路径：System.getProperty(“user.dir”)<br>结果：D:\TEST<br>3.在Servlet中取得路径：<br>(1)得到工程目录：request.getSession().getServletContext().getRealPath(“”) 参数可具体到包名。<br>结果：E:\Tomcat\webapps\TEST<br>(2)得到IE地址栏地址：request.getRequestURL()<br>结果：<a href="http://localhost:8080/TEST/test" target="_blank" rel="noopener">http://localhost:8080/TEST/test</a><br>(3)得到相对地址：request.getRequestURI()</p>
<h1 id="结果：-TEST-test"><a href="#结果：-TEST-test" class="headerlink" title="结果：/TEST/test"></a>结果：/TEST/test</h1><p>spring+hibernate 报错</p>
<p>java.lang.UnsatisfiedLinkError: apache-tomcat-8.0.23<br>windows-x86\bin\tcnative-1.dll: Can’t load IA 32-bit .dll on a AMD 64-bit platf<br>rm<br>       at java.lang.ClassLoader$NativeLibrary.load(Native Method)<br>       at java.lang.ClassLoader.loadLibrary0(Unknown Source)<br>这个是hibernate-jpa-2.1.jar的问题，并且只有当使用注解的时候才会出现<br>应将<br>@Entity<br>@Table（name=”table_name”）<br>改成<br>@Entity(name=”table_name”)<br>这是不是Bug就不得而知了</p>
<p>###eclipse 优化和使用<br>    mylyn 任务管理tasklist ,可以创建本地，也可以集成jira、bugzilla 、codereview等管理工具<br>    maven Gradle 使用  构建springside<br>    创建Maven的Web项目：<br>        mvn archetype:create   -DgroupId=plp  -DartifactId=testweb   -DarchetypeArtifactId=maven-archetype-webapp<br>    创建普通工程   mvn archetype:create   -DgroupId=plp  -DartifactId=testProj<br>    mvn compile 编译源代码<br>    mvn deploy 发布项目<br>    mvn test-compile 编译测试源代码<br>    mvn test</p>
<p>mvn validate        验证工程是否正确，所有需要的资源是否可用。<br>mvn jetty:run 启动jetty服务<br>mvn spring-boot:run<br>mvntomcat:run<br>                                        toolchains file<br> -U,–update-snapshots                  Forces a check for missing<br>                                        releases and updated snapshots on<br>                                        remote repositories<br> -up,–update-plugins                   Ineffective, only kept for<br>                                        backward compatibility<br>mvn clean archetype:create-from-project -Darchetype.properties=./archetype.properties -Darchetype.filteredExtentions=java,xml,jsp,properties,sql 从一个已有项目生成一个archetype</p>
<p>###tomcat hot 代码替换<br>JavaRebel是一个工具，主要是用于热加载，比如说在Tomcat之类的应用服务器中，更新了class或者某些资源文件，使用了JRebel之后，就不需要重新启动应用服务器 ，是收费的，现在有社区版<br>-noverify -javaagent:D:\FlexBuilderIDE\jrebel5.5.2\jrebel.jar<br>-Drebel.spring_plugin=true<br>-Drebel.struts2-plugin=true</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/j2ee/">j2ee</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/笔记/">笔记</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/03/30/2015-03-30-the-java-thinking-notes/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-2015-02-02-iaas-service-use-and-sum" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/02/02/2015-02-02-iaas-service-use-and-sum/" class="article-date">
  	<time datetime="2015-02-01T16:00:00.000Z" itemprop="datePublished">2015-02-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/02/2015-02-02-iaas-service-use-and-sum/">云服务与云计算使用总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>比较好用的IAAS:  阿里云  、UCloud Linode 、digital ocean<br>便宜的VPS:  digitalOcean 、buyVM</p>
</blockquote>
<p>##云服务概览</p>
<p>0.定义</p>
<ul>
<li><p>狭义云计算： IT基础设施的交付和使用通过网络按需、易扩展的方式获取<br>广义的云计算：服务的交付和使用通过网络以按需、易扩展的方式获取，这种服务可以说IT和软件、互联网相关的，也可以说其他的服务，它具有超大规模、虚拟化、可靠安全等独特功效。</p>
</li>
<li><p>IaaS虚拟化：xen（逐渐衰落）,kvm ,vmware  docker,OpenStack</p>
</li>
<li>PaaS  :GAE  模式/Cloud Foundry</li>
<li>daas  需要考虑分片后对于全局的索引以及跨分片的join 排序 ，是否可以考虑此类数据存放到mongo/redis 而不用传统的mysql4</li>
</ul>
<p>1.服务产品: 亚马逊aws 、微软azure 、UCloud  、 阿里云 、盛大云 、美团云 、华为云 、 青云 、百度云(原bae)</p>
<p>2.@Easy 现在Docker的生态还差得远呢，看起来啥都能用，用起来啥都不好。</p>
<p>##公有云</p>
<blockquote>
<p> 提供此服务的厂商都比较成熟，文档也是比较全面，国内的在访问速度和价格方面有十分大的优势</p>
</blockquote>
<p><a href="http://www.aliyun.com/" target="_blank" rel="noopener">阿里云</a> 服务全面好用价格合理、 阿里的电商资源，阿里的技术积累和运营能力，阿里开发平台稍弱偏电商<br>业务规则校验比较全面(发票问题，优惠 和发票邮寄的尝试，发现业务逻辑非常完善，提现的时候可以检查 发票金额如果为负则不可以提，而且账户金额还区分 信用卡和 充值金额)<br>外网下载速度也是十分快，M级别，但上传速度的慢的厉害(百度云盘测试的)<br>提供主机防护，云盾产品现由道哥领导，打造安全基础设施</p>
<blockquote>
<ul>
<li>iDB Cloud连接数据的操作界面也非常好;浏览器端的VNC console功能十分强大  不仅可以连接linux，还可以连接windows ，而且体验非常不错，jquery Angular HighCharts ,纯内网机器，也可以通过vnc做为跳板进行登录和配置  </li>
<li>系统的镜像(Ubuntu、CentOS、Debian、OpenSUSE、Windows Server )完全免费，自己也可以根据系统硬盘做 快照、镜像(暂时是免费的)，window server 在1核1G内存下比较卡顿，且有的软件会安装失败(可能和不支持显卡等有关)  </li>
<li>体验ubuntu server <blockquote>
<p>使用内部镜像(将源  cat /etc/apt/sources.list 的域名从mirrors.aliyun.com改为mirrors.aliyuncs.com)，不耗流量，速度快 deb <a href="http://cn.archive.ubuntu.com/ubuntu/" target="_blank" rel="noopener">http://cn.archive.ubuntu.com/ubuntu/</a> precise main restricted universe multiverse<br>liyun linux 不好用<br>破壳漏斗修复 apt-get update  apt-get -y install –only-upgrade bash  </p>
</blockquote>
</li>
</ul>
</blockquote>
<p><a href="http://cloud.tmall.com/index.htm" target="_blank" rel="noopener">天猫-聚石塔</a><br><a href="http://www.ucloud.cn/" target="_blank" rel="noopener">UCloud</a>  著名黑客客 季昕华 创办的，你懂的<br><a href="http://www.qcloud.com/" target="_blank" rel="noopener">腾讯云</a>  腾讯的用户资源，尤其是游戏方面的流量导入，很有诱惑，腾讯开发平台<br><a href="http://www.grandcloud.cn/" target="_blank" rel="noopener">盛大云</a> 没落帝国<br><a href="http://www.hwclouds.com/" target="_blank" rel="noopener">华为云</a> 技术实力的体现，非常不错 ，价格没有竞争力<br><a href="http://www.ksyun.com/" target="_blank" rel="noopener">金山云</a> 快盘业务出售给迅雷后，专注于企业级<br><a href="https://www.qingcloud.com/" target="_blank" rel="noopener">青云</a> 公有云会像水、电一样服务于每个人的生活。我们致力于提供一个平台，使计算资源的交付更加简单、高效、可靠，甚至更环保。<br><a href="http://yun.jiasule.com/" target="_blank" rel="noopener">加速乐云主机</a>价格较贵，但安全性应该非常好，可搭配加速乐 <a href="http://www.jiasule.com/" target="_blank" rel="noopener">http://www.jiasule.com/</a>  </p>
<p><a href="https://www.linode.com/" target="_blank" rel="noopener">Linode </a> (还有 digitalocean 10刀/月  70元/元  )国外好用vps提供商，全ssd，网速比国内慢的多，但带宽大(G级别)，控制台界面是全英文的 、国外信用卡 </p>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IAAS/">IAAS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/云计算/">云计算</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/阿里云/">阿里云</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/02/02/2015-02-02-iaas-service-use-and-sum/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-2015-01-13-how-to-run-jetty8-in-myeclipse6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/13/2015-01-13-how-to-run-jetty8-in-myeclipse6/" class="article-date">
  	<time datetime="2015-01-13T07:24:26.000Z" itemprop="datePublished">2015-01-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/13/2015-01-13-how-to-run-jetty8-in-myeclipse6/">Myeclipse6下运行jetty8或更高版本</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>如何在运行 Myeclipse6下运行jetty8或更高版本</p>
</blockquote>
<p>##问题由来<br>自己笔记本配置比较低，然后又因为Java开发对电脑配置要求比较高，故选择继续使用Myeclipse6.5(盗版的，忏悔)，虽然尝试过使用eclipse、netbeans、idea 等工具，但还是感觉比较熟悉Myeclipse6.5。</p>
<p>言归正传，最近想玩玩jetty ,到官网发现最新的都已经到9了，而我打算先用个低版本的试试，就选择了8，然而果然没跑起来，经过排查问题，得知是Myeclipse的jetty插件调用jetty的时候，没找到main函数，而这一切的“罪魁祸首”就是 jetty已经并入eclipse中了，所以所有代码的包路径已经有·org.mortbay·换为·org.eclipse.jetty·，经过思考后发现是可以改造下让其运行在Myeclipse6下的。</p>
<p>##具体步骤</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/eclipse/">eclipse</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jetty/">jetty</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/01/13/2015-01-13-how-to-run-jetty8-in-myeclipse6/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-2014-12-01-the-rules-of-software-develop" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/12/01/2014-12-01-the-rules-of-software-develop/" class="article-date">
  	<time datetime="2014-12-01T07:24:26.000Z" itemprop="datePublished">2014-12-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/01/2014-12-01-the-rules-of-software-develop/">软件开发管理之敏捷开发，兼谈极限编程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>软件开发规范和流程 the-rules-of-software-develop</p>
</blockquote>
<p>##敏捷开发  </p>
<blockquote>
<p>敏捷方法之极限编程(XP)和 Scrum （skuram，橄榄球中的争球）区别</p>
<ol>
<li>区别之一： 迭代长度的不同<br>XP的一个Sprint的迭代长度大致为1~2周, 而Scrum的迭代长度一般为 2~ 4周.</li>
<li>区别之二: 在迭代中, 是否允许修改需求<br>XP在一个迭代中，如果一个User Story(用户素材, 也就是一个需求)还没有实现， 则可以考虑用另外的需求将其替换， 替换的原则是需求实现的时间量是相等的。 而Scrum是不允许这样做的，一旦迭代开工会完毕, 任何需求都不允许添加进来，并有Scrum Master严格把关，不允许开发团队受到干扰</li>
<li>区别之三: 在迭代中，User Story是否严格按照优先级别来实现<br>XP是务必要遵守优先级别的。 但Scrum在这点做得很灵活， 可以不按照优先级别来做，Scrum这样处理的理由是： 如果优先问题的解决者，由于其它事情耽搁，不能认领任务，那么整个进度就耽误了。 另外一个原因是，如果按优先级排序的User Story #6和#10，虽然#6优先级高，但是如果#6的实现要依赖于#10，则不得不优先做#10.</li>
<li>区别之四:软件的实施过程中，是否采用严格的工程方法，保证进度或者质量<br>Scrum没有对软件的整个实施过程开出工程实践的处方。要求开发者自觉保证，但XP对整个流程方法定义非常严格，规定需要采用TDD, 自动测试， 结对编程，简单设计，重构等约束团队的行为。</li>
<li>Scrum偏重于过程，XP则偏重于实践，但是实际中，两者是结合一起应用的</li>
</ol>
</blockquote>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/敏捷开发/">敏捷开发</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/项目管理/">项目管理</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2014/12/01/2014-12-01-the-rules-of-software-develop/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2000/01/01/hello-world/" class="article-date">
  	<time datetime="1999-12-31T16:00:01.000Z" itemprop="datePublished">2000-01-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2000/01/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github/">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2000/01/01/hello-world/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 cuteinfo 的随想录
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/mobile.js"></script>
<script src="/js/main.js"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>